![image-20240406170734154](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170734154.png)

![image-20240406170743796](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170743796.png)

![image-20240406170748577](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170748577.png)

![image-20240406170753707](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170753707.png)![image-20240406170913966](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170913966.png)

![image-20240406170802306](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170802306.png)

![image-20240406170805107](C:\Users\set\AppData\Roaming\Typora\typora-user-images\image-20240406170805107.png)

```
#include <bits/stdc++.h>
using namespace std;
using ll=long long;

const int N = 3e5+9;

struct Edge
{
	int x,w;
};

vector<Edge>g[N];

ll d[N],n,m;

void dijkstra(int st)
{
	memset(d,0x3f,sizeof(ll)*(n+1));
	d[st]=0;
	bitset<N>vis;
	
	for(int i=1;i<=n;i++)
	{
		int u=1;
		for(int j=1;j<=n;++j)
		{
			if(vis[u]||(!vis[j]&&d[j]<d[u]))u=j;
		}
		vis[u]=true;
		
		for(auto &[v,w]:g[u])
		{
			if(!vis[v]&&d[v]>d[u]+w)d[v]=d[u]+w;
		}
		
	}
}

void solve()
{
	cin>>n>>m;
	for(int i=1;i<=n;i++)
	{
		int u,v,w;cin>>u>>v>>w;
		if(u!=v)g[u].push_back({v,w});
	}
	
	dijkstra(1);
	cout<<d[n]<<'\n';
}

int main()
{
	ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);

	int _=1;
	while(_--)solve();
	return 0;
}
```

